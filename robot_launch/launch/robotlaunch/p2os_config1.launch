<launch>
	<master auto="start" />

	<!-- Launch transform configuration -->
	<include file="$(find tf_setup)/launch/tf_setup.launch"/>

	<!--Luanch costmap updater-->
	<include file="$(find costmap_update)/launch/costmap_update.launch"/>

	<!-- Launch hokuyo nodes -->
	<include file="$(find laser_node)/launch/laser_hokuyo.launch"/>

	<!-- Launch p2os -->
	<node pkg="p2os_driver" name="p2os" type="p2os">
		<param name="port" value="/dev/ttyUSB0"/>
	</node>

	<!-- Include launching for gmapping -->
  	<include file="$(find robot_launch)/launch/gmapping/gmapping.launch"/>
 
	<!--Run AMCL-->
	<include file="$(find robot_launch)/launch/amcl/amcl_diff.launch" />

	<!--Run Move base-->
	<node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
		<rosparam file="$(find robot_launch)/configs/costmap_common_params.yaml" command="load" ns="global_costmap" />
		<rosparam file="$(find robot_launch)/configs/costmap_common_params.yaml" command="load" ns="local_costmap" />
		<rosparam file="$(find robot_launch)/configs/local_costmap_params.yaml" command="load" />
		<rosparam file="$(find robot_launch)/configs/global_costmap_params.yaml" command="load" />
		<rosparam file="$(find robot_launch)/configs/base_local_planner_params.yaml" command="load" />
	</node>

	<!--Launch rviz-->
	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find robot_launch)/rviz/navigation.vcg"/>

</launch>
